<SCRIPT type="text/javascript" src="toc/js/jquery-1.4.4.min.js"></SCRIPT>
<SCRIPT type="text/javascript" src="toc/js/jquery.ztree.all-3.5.min.js"></SCRIPT>
<SCRIPT type="text/javascript" src="toc/js/ztree_toc.js"></SCRIPT>
<SCRIPT type="text/javascript" >
	$(document).ready(function(){
		// 将这段代码放到md文件的起始部分，导出为html后，会自动生成侧边栏的导航。不过本代码不是独立的，他依赖了i5ting_toc的部分文件，也就是上边SCRIPT里边的3个文件
		var body_txt = $("body").html()
		var posi = body_txt.lastIndexOf('id="position"') + 20
		var toc_start = "<div><div style='width:25%;'><ul id=\"tree\" class=\"ztree\" style='width:100%'></ul></div><div id='readme' style='width:70%;margin-left:20%;'><article class='markdown-body'>"
		var toc_end = "</article></div></div>"
		var toc_body = toc_start + body_txt.substring(posi) + toc_end
		
		$("#position").nextAll().remove();
		$("#position").append(toc_body)

		var css_conf = eval(markdown_panel_style);
		$('#readme').css(css_conf)
		
		var conf = eval(jquery_ztree_toc_opts);
		$('#tree').ztree_toc(conf);
	});

	var jquery_ztree_toc_opts = {
		debug:false,
		is_auto_number:true,
		header_level:6,
		dblClickExpand:true,
		documment_selector:'.markdown-body',
		ztreeStyle: {
			width:'326px',
			overflow: 'auto',
			position: 'fixed',
			'z-index': 2147483647,
			border: '0px none',
			left: '0px',
			top: '0px',
			// 'overflow-x': 'hidden',
			'height': $(window).height() + 'px'
		}
	}
	var markdown_panel_style = {
		'width':'70%',
		'margin-left':'25%'
	};
</SCRIPT>
<DIV id="position"></DIV>